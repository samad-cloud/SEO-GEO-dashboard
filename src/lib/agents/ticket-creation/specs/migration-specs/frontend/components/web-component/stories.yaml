name: StoriesSection
source: components/web-component/stories.tsx
description: >
  Instagram-style stories section that displays a heading and a row of large images.
  Typically shows 3 images in a horizontal row on desktop (33.33% width each) and stacked
  full-width on mobile. Images maintain a 1200:613 aspect ratio. Simple presentational component
  with no interactivity or state.

exports:
  - name: default
    type: component
    description: StoriesSection component (default export)

props:
  - name: heading
    type: "string | null"
    required: false
    description: "Optional heading text displayed above the image row. Rendered as h2 when truthy."
  - name: images
    type: "Array<{ url: string; alt: string }>"
    required: true
    description: "Array of image objects with url and alt text for each story image."

component_structure:
  type: fragment
  children:
    - element: h2
      condition: "heading is truthy"
      class: "text-2xl md:text-4xl mb-4 text-center font-bold"
      content: "{heading}"
    - element: div (image row container)
      class: "flex flex-wrap mx-0 md:-mx-4"
      children:
        - element: Image
          iteration: "images.map()"
          key: index
          props:
            src: "{image.url}"
            alt: "{image.alt}"
            aspectRatio: "1200/613"
          class: "flex-[0_0_100%] max-w-[100%] md:flex-[0_0_33.33%] md:max-w-[33.33%] h-auto px-0 md:px-4 mb-4 md:mb-0"
          description: "Full width on mobile, 1/3 width on desktop with horizontal padding"

child_components:
  - name: Image
    source: "@unpic/qwik"
    description: "Optimized image component with aspect ratio support - replace with Next.js Image"

data_structure:
  Stories:
    heading: "string | null"
    images: "Array<{ url: string; alt: string }>"

behavior:
  - action: "Render optional heading"
    details: "Displays h2 heading centered, bold, larger on desktop (text-4xl) than mobile (text-2xl)."
  - action: "Render image row"
    details: >
      Maps over images array rendering each as an optimized Image component.
      Mobile: stacked full-width (100%) with 4px bottom margin.
      Desktop (md+): 3 images per row (33.33% each) with 16px horizontal padding, no bottom margin.
      All images use fixed 1200:613 aspect ratio for consistent heights.

styling:
  heading: "text-2xl md:text-4xl mb-4 text-center font-bold"
  container: "flex flex-wrap mx-0 md:-mx-4 (negative margin for gutter compensation)"
  image: >
    Mobile: flex-[0_0_100%] max-w-[100%] px-0 mb-4
    Desktop: flex-[0_0_33.33%] max-w-[33.33%] px-4 mb-0
  aspect_ratio: "1200/613 (approximately 1.96:1, landscape banner format)"

dependencies:
  types:
    - name: Stories
      source: "~/services/web-component-service"

used_by:
  - "WebContentsComponent (web-contents-component.tsx) - renders stories sections"

security:
  - "No user input handling"
  - "Image URLs come from CMS - should be validated"

notes:
  - "Component is purely presentational with no state, effects, or event handlers"
  - "The aspect ratio 1200/613 is specific to story banner format"
  - "Uses flex-based grid (not CSS Grid) for the image layout"
  - "Negative margin on container (-mx-4 on md+) compensates for image padding to maintain edge alignment"

# ── NEW SECTIONS (added in 2026-02-24 backfill) ───────────────────────────

types:
  Stories:
    description: Component props — component$ uses Stories directly as the props type
    source: ~/services/web-component-service
    fields:
      - name: heading
        type: "string | null"
      - name: images
        type: "Array<StoryImage>"

  StoryImage:
    description: Individual image item within Stories.images
    fields:
      - name: url
        type: string
      - name: alt
        type: string

field_consumption:
  Stories:
    consumed:
      - heading: Rendered as h2 when truthy
      - images: Iterated to render each as an Image component

  StoryImage:
    consumed:
      - url: Passed as src to Image component
      - alt: Passed as alt to Image component

visibility_map:
  heading_h2:
    condition: "heading is truthy"
    default: hidden
